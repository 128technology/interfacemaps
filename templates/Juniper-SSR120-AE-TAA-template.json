{
  "name": "Juniper-SSR120-AE-TAA-Template",
  "description": "Adds a standalone Juniper SSR120-AE-TAA router: Juniper SSR120 - 6 ethernet, 1 lte",
  "enabled": true,
  "persistInput": false,
  "builtin": true,
  "mode": "advanced",
  "help": "# Juniper SSR120-AE-TAA Router\n\nThis adds a basic Juniper SSR120-AE-TAA Session Smart Router to your configuration.\nLTE is available on your platform.\n\n\n\n##Generate Config\nSelect the generate config icon at the top of the page, and proceed to configuration. Validate and commit to finish adding the new router to running configuration.\n\n## Port Details\nThis template assumes all WAN interfaces on your device will be connected to a network providing it DHCP address assignment, and with connectivity to your conductor.\n\nIt will configure LAN interfaces providing a DHCP server to connected endpoints. From the LAN, the router local GUI and CLI will be accessible at `192.168.128.1`\n\n",
  "body": "{% editgroup %}\n\n{\n  \"authority\": {\n    \"security\": [\n      {\n        \"name\": \"internal-encrypt-hmac-disable\",\n        \"description\": \"Security policy built by builtin router template\",\n        \"encrypt\": \"false\",\n        \"adaptiveEncryption\": \"false\",\n        \"hmacMode\": \"disabled\"\n      }\n    ],\n    \"router\": [\n      {\n        \"_value\": {\n          \"name\": \"{{routerName}}\",\n          \"description\": \"{{routerDescription}}\",\n          \"location\": \"{{routerLocation}}\",\n          \"interNodeSecurity\": \"internal-encrypt-hmac-disable\",\n          \"system\": {\n            \"ntp\": {\n              \"server\": [\n                {\n                  \"ipAddress\": \"216.239.35.0\"\n                },\n                {\n                  \"ipAddress\": \"216.239.35.4\"\n                },\n                {\n                  \"ipAddress\": \"216.239.35.8\"\n                },\n                {\n                  \"ipAddress\": \"216.239.35.12\"\n                }\n              ]\n            }\n          },\n          \"dnsConfig\": [\n            {\n              \"mode\": \"static\",\n              \"address\": [\n                \"1.1.1.1\",\n                \"8.8.8.8\"\n              ]\n            }\n          ],\n          \"applicationIdentification\": {\n            \"mode\": [\n              \"all\"\n            ]\n          },\n          \"node\": [\n            {\n              \"name\": \"node1\",\n              \"role\": \"combo\",\n              \"description\": \"{{routerName}} router node\",\n              \"deviceInterface\": [\n                {\n                  \"name\": \"lte-0-0\",\n                  \"description\": \"LTE device interface\",\n                  \"type\": \"lte\",\n                  \"enabled\": \"true\",\n                  \"forwarding\": \"true\",\n                  \"targetInterface\": \"wwp0s21u1i8\",\n                  \"networkInterface\": [\n                    {\n                      \"name\": \"lte-0-0\",\n                      \"description\": \"LTE network interface\",\n                      \"sourceNat\": \"true\",\n                      \"management\": \"false\",\n                      \"defaultRoute\": \"false\",\n                      \"managementVector\": {\n                        \"priority\": \"200\",\n                        \"name\": \"mgmt\"\n                      },\n                      \"dhcp\": \"v4\"\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        \"_operation\": \"create\"\n      }\n    ]\n  }\n}",
  "schema": {
    "type": "object",
    "definitions": {
      "wanPort": {
        "type": "object",
        "properties": {
          "conductor": {
            "title": "Conductor can be reached from this interface",
            "type": "boolean",
            "default": true,
            "readOnly": true
          },
          "dhcpClient": {
            "title": "Address learned using DHCP",
            "type": "boolean",
            "default": true,
            "readOnly": true
          }
        },
        "dependencies": {
          "dhcpClient": {
            "oneOf": [
              {
                "properties": {
                  "dhcpClient": {
                    "const": true,
                    "readOnly": true
                  }
                }
              },
              {
                "properties": {
                  "dhcpClient": {
                    "const": false,
                    "readOnly": true
                  },
                  "address": {
                    "title": "IP address",
                    "type": "string",
                    "description": "Network interface IP address. Example: 128.128.128.2",
                    "readOnly": true
                  },
                  "prefix": {
                    "title": "Prefix",
                    "type": "string",
                    "description": "Network prefix length. Example: 24",
                    "readOnly": true
                  },
                  "gateway": {
                    "title": "Gateway",
                    "type": "string",
                    "description": "Network gateway IP address. Example: 128.128.128.1",
                    "readOnly": true
                  }
                }
              }
            ]
          },
          "dhcpServer": {
            "oneOf": [
              {
                "properties": {
                  "dhcpServer": {
                    "const": true,
                    "readOnly": true
                  },
                  "dhcpServerStartAddr": {
                    "title": "DHCP server pool start address",
                    "type": "string",
                    "default": "192.168.128.100",
                    "readOnly": true
                  },
                  "dhcpServerEndAddr": {
                    "title": "DHCP server pool end address",
                    "type": "string",
                    "default": "192.168.128.254",
                    "readOnly": true
                  }
                }
              },
              {
                "properties": {
                  "dhcpServer": {
                    "const": false,
                    "readOnly": true
                  }
                }
              }
            ]
          }
        }
      },
      "lanPort": {
        "type": "object",
        "properties": {
          "web": {
            "title": "Management GUI",
            "description": "Enable web access to the node management GUI using HTTPS.",
            "type": "boolean",
            "default": true,
            "readOnly": true
          },
          "ssh": {
            "title": "Management SSH",
            "description": "Enable terminal access to the node management CLI using SSH.",
            "type": "boolean",
            "default": true,
            "readOnly": true
          },
          "dhcpServer": {
            "title": "DHCP Server",
            "description": "Enable DHCP server on the interface.",
            "type": "boolean",
            "default": true,
            "readOnly": true
          }
        }
      },
      "ltePort": {
        "type": "object",
        "properties": {}
      },
      "mgmtPort": {
        "type": "object",
        "properties": {}
      }
    },
    "title": "New Juniper SSR120-AE-TAA branch router",
    "description": "Add a new Juniper SSR120-AE-TAA branch router to the configuration.",
    "properties": {
      "routerName": {
        "title": "Router Name",
        "description": "Enter a name identifier for the router.",
        "type": "string"
      },
      "routerDescription": {
        "title": "Description",
        "description": "Description for the router.",
        "type": "string"
      },
      "routerLocation": {
        "title": "Site Location",
        "description": "Enter the address or location of the router. Example: City, State.",
        "type": "string"
      },
      "ports": {
        "type": "object",
        "title": "Ports",
        "description": "Port and network settings.",
        "properties": {
          "lte-0-0": {
            "title": "WAN - lte-0-0",
            "description": "LTE device interface",
            "$ref": "#/definitions/wanPort"
          }
        }
      }
    }
  }
}